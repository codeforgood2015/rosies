<!DOCTYPE html>

<html>
<head>
<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js">
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<script>
	var app = angular.module('dateTime', []);
	app.controller('datetimeController', function($scope){
		$scope.currentSelect = 0;
		this.next = function(){
			$scope.currentSelect += 1;
		};
		this.back = function(){
			$scope.currentSelect -= 1;
		};

		this.today = new Date(Date.now());
		this.tomorrow = new Date(Date.now() + 1000*60*60*24)
		this.dateSlots = [this.today.toDateString() + " (today)", this.tomorrow.toDateString() + " (tomorrow)"];
		this.selectDate = function(dateChoice){
			this.dateSelect = this.dateSlots[dateChoice];
		};

		this.timeSlots = ['9:00 am to 10:00 am', '10:00 am  to 11:00 am', '11:00 am to 12:00 noon', '4:30 pm to 5:30 pm', '5:30 pm to 6:30 pm'];
		this.selectTime = function(timeChoice){this.timeSelect = timeChoice;};

		this.selectBag = function(bagChoice){this.bag = bagChoice;};

		this.allergies = false;
		this.clearAllergies = function(){$('#allergybox').val(''); this.allergies = false;};
	});
</script>

<style>
html{
	background-color: #734866;
	color:white;
	text-align:center;
	font-family: 'Times New Roman';
}

.button0{
	font-family: 'Times New Roman';
	width: 50%;
	font-size: 40px;
	margin-bottom: 40px;
}

h3{
	font-size: 75px;
}

.back{
	width: 250px;
	height: 125px;
	position: fixed;
	left: 5px;
	top: 5px;
}
</style>

<body ng-app = "dateTime">
<button class = "back" ng-click = "ctrl.back()"> back </button>
<h1>Sign Up for the Food Pantry</h1>

<div ng-controller="datetimeController as ctrl">

<div ng-show = "currentSelect === 0">
<h3>Select a Date</h3>
	<br>
	<button class = "button0" ng-click="ctrl.selectDate(0); ctrl.next()">{{ctrl.dateSlots[0]}}</button>
	<button class = "button0" ng-click="ctrl.selectDate(1);ctrl.next()">{{ctrl.dateSlots[1]}}</button>
</div>

<div ng-show = "currentSelect === 1">
<h3>Select a Time</h3>
<div ng-repeat="time in ctrl.timeSlots"><button class = "button1" ng-click="ctrl.selectTime(time); ctrl.next()">{{time}}</button></div>
</div>

<div ng-show = "currentSelect === 2">
<h3>Premade Bag</h3>
	<button class = "button2" ng-click="ctrl.selectBag('yes'); ctrl.next()">yes, make me a bag</button>
	<button class = "button2" ng-click="ctrl.selectBag('no'); ctrl.next()">no, I want to pick my own food</button>
</div>

<div ng-show = "currentSelect === 3">
<h3>Dietary Constraints</h3>
	<button class = "button3" ng-click="ctrl.allergies = true;"> yes </button>
	<button class = "button3" ng-click="ctrl.clearAllergies(); allergies = ''; ctrl.next()"> no </button>
	<br><br>
	<textarea id = "allergybox" rows = "4" cols = "50" ng-show = "ctrl.allergies" ng-model="allergies"></textarea>
	<br>
	<button class = "button3-1" ng-click = "ctrl.next()" ng-show = "ctrl.allergies">done</button>
</div>

<div ng-show="currentSelect ===4">
	<h3>Confirmation</h3>
	Date: {{ctrl.dateSelect}}<br>
	Time: {{ctrl.timeSelect}}<br>
	Pre-made Bag: {{ctrl.bag}}<br>
	Dietary constraints: {{allergies}}<br>
	<button class = "button4" ng-click = "">submit</button>
</div>
</div>

</body>
</html>